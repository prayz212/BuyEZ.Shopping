<div class="mt-24 transition-all duration-300 ease-in-out">
  <div class="px-14 mb-24">
    <div class="px-20">
      <p-table
        [value]="(cartItems$ | async) ?? []"
        [tableStyle]="{ 'min-width': '60rem' }"
      >
        <ng-template #header>
          <tr>
            <th>Product</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Subtotal</th>
            <th>Action</th>
          </tr>
        </ng-template>
        <ng-template #body let-item>
          <tr>
            <td>
              <div class="flex items-center space-x-4">
                <img
                  src="assets/images/1.jpg"
                  alt="Product 1"
                  class="inline-block w-24 h-28 object-cover rounded"
                />
                <p>{{ item.name }}</p>
              </div>
            </td>
            <td>{{ item.price | currency : "USD" }}</td>
            <td>{{ item.quantity }}</td>
            <td>
              {{ item.price * item.quantity | currency : "USD" }}
            </td>
            <td>
              <p-button
                icon="pi pi-trash"
                severity="danger"
                styleClass="bg-transparent border-0 text-red-800 hover:text-red-800/60 active:text-red-900"
                (onClick)="removeCartItem(item.id)"
              ></p-button>
            </td>
          </tr>
        </ng-template>
        <ng-template #emptymessage>
          <tr>
            <td colspan="5" ngClass="text-center my-4 text-neutral-400 text-md">
              You don't have any items in the cart yet.
            </td>
          </tr>
        </ng-template>
        <ng-template #footer>
          <tr *ngIf="(cartItems$ | async)?.length !== 0">
            <td colspan="3" class="text-right font-bold py-4">
              Totals items price:
            </td>
            <td colspan="2" class="font-bold my-4">
              {{ calculateItemsPrice() | currency : "USD" }}
            </td>
          </tr>
        </ng-template>
      </p-table>
      <div
        class="flex justify-end my-4"
        *ngIf="(cartItems$ | async)?.length !== 0"
      >
        <a class="px-10 p-button" [routerLink]="['/checkout']"
          >Go to Checkout</a
        >
      </div>
    </div>
  </div>
</div>
